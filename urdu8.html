<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üé® YouTube Thumbnail Editor</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&family=Bebas+Neue&family=Anton&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
  body { margin:0; padding:20px; font-family:Arial,sans-serif; background:#f5f5f5; text-align:center; }
  h1 { font-size:30px; margin-bottom:20px; }
  h3 { margin:15px 0; }

  .editor-panel {
    background:#fff; border:1px solid #ccc; border-radius:8px; padding:15px;
    margin:15px auto; max-width:1100px; text-align:left;
  }
  .editor-controls { display:flex; flex-wrap:wrap; gap:20px; margin-top:10px; align-items:center; }
  .editor-controls input[type="range"] { width:200px; }
  .thumbnail {
    position:relative; width:1280px; height:720px; margin:20px auto; background:#ddd;
    background-position:center; background-repeat:no-repeat; background-size:100% 100%;
  }
  .text-layer {
    position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
    font-size:70px; color:white; cursor:move; white-space:pre;
    text-shadow:2px 2px 5px black; background-color:transparent;
    padding:5px 10px; border-radius:5px; user-select:none;
  }
  #urduText { font-family:'Noto Nastaliq Urdu',serif; }
  #englishText { font-family:'Bebas Neue',sans-serif; top:70%; }
  button { margin:6px; padding:6px 12px; font-size:15px; cursor:pointer; }
</style>
</head>
<body>
  <h1>üé® YouTube Thumbnail Editor</h1>

  <!-- STEP 1 -->
  <div class="editor-panel">
    <h3>Step 1: Select your Image</h3>
    <input type="file" id="uploadImage" accept="image/*"><br><br>
    <div class="thumbnail" id="thumbnail">
      <div id="urduText" class="text-layer">ÿßÿ±ÿØŸà ŸÖÿ™ŸÜ</div>
      <div id="englishText" class="text-layer">English Text</div>
    </div>
    <div class="editor-controls">
      <button onclick="setFitMode('stretch')">Stretch</button>
      <button onclick="setFitMode('cover')">Fill</button>
      <button onclick="setFitMode('contain')">Fit</button>
      Bar Color: <input type="color" id="barColor" value="#ffffff" onchange="updateBarColor()">
    </div>
  </div>

  <!-- STEP 2 Urdu -->
  <div class="editor-panel">
    <h3>Step 2: Urdu Text</h3>
    <textarea id="inputText" placeholder="Type Roman Urdu here..." style="width:100%;height:80px;font-size:16px;"></textarea><br>
    <button onclick="convertToUrdu()">Convert ‚Üí ÿßÿ±ÿØŸà</button>
    <div class="editor-controls">
      Font Color: <input type="color" id="urduColor" value="#ffffff" onchange="updateUrduStyle()">
      Size: <input type="range" id="urduSize" min="20" max="150" value="70" oninput="updateUrduStyle()"><span id="urduSizeLabel">70px</span>
      Background: <input type="color" id="urduBg" value="#00000000" onchange="updateUrduStyle()">
      <label><input type="checkbox" id="urduBgTransparent" checked onchange="updateUrduStyle()"> Transparent</label>
      Glow Color: <input type="color" id="urduGlowColor" value="#ff0000" onchange="applyUrduPreset()">
      Preset:
      <select id="urduPreset" onchange="applyUrduPreset()">
        <option value="none">--None--</option>
        <option value="classic">Classic Shadow</option>
        <option value="glow">Glow</option>
        <option value="outline">Outline</option>
        <option value="rainbow">Rainbow</option>
      </select>
    </div>
  </div>

  <!-- STEP 3 English -->
  <div class="editor-panel">
    <h3>Step 3: English Text</h3>
    <input type="text" id="englishInput" placeholder="Type English text here..." style="width:100%;height:40px;font-size:16px;" oninput="updateEnglishText()">
    <div class="editor-controls">
      Font: 
      <select id="englishFont" onchange="updateEnglishStyle()">
        <option value="Bebas Neue">Bebas Neue</option>
        <option value="Anton">Anton</option>
        <option value="Impact">Impact</option>
        <option value="Arial Black">Arial Black</option>
      </select>
      Font Color: <input type="color" id="englishColor" value="#ffffff" onchange="updateEnglishStyle()">
      Size: <input type="range" id="englishSize" min="20" max="150" value="70" oninput="updateEnglishStyle()"><span id="englishSizeLabel">70px</span>
      Background: <input type="color" id="englishBg" value="#00000000" onchange="updateEnglishStyle()">
      <label><input type="checkbox" id="englishBgTransparent" checked onchange="updateEnglishStyle()"> Transparent</label>
      Glow Color: <input type="color" id="englishGlowColor" value="#00ffff" onchange="applyEnglishPreset()">
      Preset:
      <select id="englishPreset" onchange="applyEnglishPreset()">
        <option value="none">--None--</option>
        <option value="classic">Classic Shadow</option>
        <option value="glow">Glow</option>
        <option value="outline">Outline</option>
        <option value="rainbow">Rainbow</option>
      </select>
    </div>
  </div>

  <button onclick="downloadThumbnail()">‚¨áÔ∏è Download Thumbnail</button>

<script>
const thumbnail=document.getElementById("thumbnail");
const urduText=document.getElementById("urduText");
const englishText=document.getElementById("englishText");

// Upload
document.getElementById("uploadImage").addEventListener("change", e=>{
  const file=e.target.files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=ev=>{thumbnail.style.backgroundImage=`url('${ev.target.result}')`;};
    reader.readAsDataURL(file);
  }
});

// Fit modes
function setFitMode(mode){
  if(mode==="cover") thumbnail.style.backgroundSize="cover";
  else if(mode==="contain"){thumbnail.style.backgroundSize="contain"; updateBarColor();}
  else thumbnail.style.backgroundSize="100% 100%";
}
function updateBarColor(){thumbnail.style.backgroundColor=document.getElementById("barColor").value;}

// Urdu conversion via Input Tools
async function convertToUrdu(){
  const input=document.getElementById("inputText").value.trim();
  if(!input){urduText.innerText="ÿßÿ±ÿØŸà ŸÖÿ™ŸÜ"; return;}
  const response=await fetch("https://inputtools.google.com/request?itc=ur-t-i0-und&num=1",{
    method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},
    body:"text="+encodeURIComponent(input)});
  const data=await response.json();
  if(data[0]==="SUCCESS") urduText.innerText=data[1][0][1][0];
}

// Urdu styling
function updateUrduStyle(){
  urduText.style.color=document.getElementById("urduColor").value;
  urduText.style.fontSize=document.getElementById("urduSize").value+"px";
  document.getElementById("urduSizeLabel").innerText=document.getElementById("urduSize").value+"px";
  if(document.getElementById("urduBgTransparent").checked){
    urduText.style.background="transparent";
  } else {
    urduText.style.backgroundColor=document.getElementById("urduBg").value;
  }
}
function applyUrduPreset(){
  const preset=document.getElementById("urduPreset").value;
  const glowColor=document.getElementById("urduGlowColor").value;
  urduText.style.textShadow="none"; urduText.style.webkitTextStroke="0px transparent";
  urduText.style.background="transparent"; urduText.style.webkitTextFillColor="";
  if(preset==="classic") urduText.style.textShadow="2px 2px 5px black";
  if(preset==="glow") urduText.style.textShadow=`0 0 5px ${glowColor}, 0 0 10px ${glowColor}, 0 0 20px ${glowColor}`;
  if(preset==="outline"){urduText.style.color="white"; urduText.style.webkitTextStroke="2px black";}
  if(preset==="rainbow"){urduText.style.background="linear-gradient(to right, red,orange,yellow,green,blue,violet)";
    urduText.style.webkitBackgroundClip="text"; urduText.style.webkitTextFillColor="transparent";}
}

// English styling
function updateEnglishText(){englishText.innerText=document.getElementById("englishInput").value;}
function updateEnglishStyle(){
  englishText.style.fontFamily=document.getElementById("englishFont").value;
  englishText.style.color=document.getElementById("englishColor").value;
  englishText.style.fontSize=document.getElementById("englishSize").value+"px";
  document.getElementById("englishSizeLabel").innerText=document.getElementById("englishSize").value+"px";
  if(document.getElementById("englishBgTransparent").checked){
    englishText.style.background="transparent";
  } else {
    englishText.style.backgroundColor=document.getElementById("englishBg").value;
  }
}
function applyEnglishPreset(){
  const preset=document.getElementById("englishPreset").value;
  const glowColor=document.getElementById("englishGlowColor").value;
  englishText.style.textShadow="none"; englishText.style.webkitTextStroke="0px transparent";
  englishText.style.background="transparent"; englishText.style.webkitTextFillColor="";
  if(preset==="classic") englishText.style.textShadow="2px 2px 5px black";
  if(preset==="glow") englishText.style.textShadow=`0 0 5px ${glowColor}, 0 0 10px ${glowColor}, 0 0 20px ${glowColor}`;
  if(preset==="outline"){englishText.style.color="white"; englishText.style.webkitTextStroke="2px black";}
  if(preset==="rainbow"){englishText.style.background="linear-gradient(to right, red,orange,yellow,green,blue,violet)";
    englishText.style.webkitBackgroundClip="text"; englishText.style.webkitTextFillColor="transparent";}
}

// Drag
function makeDraggable(el){
  let isDragging=false,offsetX,offsetY;
  el.addEventListener("mousedown",e=>{isDragging=true;offsetX=e.clientX-el.offsetLeft;offsetY=e.clientY-el.offsetTop;});
  document.addEventListener("mousemove",e=>{
    if(isDragging){let x=e.clientX-offsetX,y=e.clientY-offsetY;
      const maxX=thumbnail.clientWidth-el.clientWidth,maxY=thumbnail.clientHeight-el.clientHeight;
      el.style.left=Math.max(0,Math.min(x,maxX))+"px"; el.style.top=Math.max(0,Math.min(y,maxY))+"px"; el.style.transform="none";}});
  document.addEventListener("mouseup",()=>{isDragging=false;});
}
makeDraggable(urduText); makeDraggable(englishText);

// Download
function downloadThumbnail(){
  html2canvas(thumbnail,{useCORS:true,width:1280,height:720,scale:1}).then(canvas=>{
    const link=document.createElement("a"); link.download="thumbnail.png"; link.href=canvas.toDataURL("image/png"); link.click();
  });
}
</script>
</body>
</html>
